import random

"""ì§ˆë¬¸ ë¦¬ìŠ¤íŠ¸"""
questions = [
    # E vs I
    ("ì‚¬ëŒë“¤ê³¼ í•¨ê»˜ ìˆì„ ë•Œ ì—ë„ˆì§€ê°€ ìƒê¸´ë‹¤", "E", "í˜¼ì ìˆëŠ” ì‹œê°„ì´ ë” í¸í•˜ë‹¤", "I"),
    ("ë§í•˜ê¸° ì „ì— í–‰ë™í•˜ëŠ” í¸ì´ë‹¤", "E", "í–‰ë™í•˜ê¸° ì „ì— ê¹Šì´ ìƒê°í•œë‹¤", "I"),
    ("íŒŒí‹°ë‚˜ ëª¨ì„ì„ ì¦ê¸´ë‹¤", "E", "ì¡°ìš©í•œ í™˜ê²½ì—ì„œ íœ´ì‹í•˜ëŠ” ê±¸ ì„ í˜¸í•œë‹¤", "I"),
    ("ì—¬ëŸ¬ ì‚¬ëŒë“¤ê³¼ ì–´ìš¸ë¦¬ëŠ” ê±¸ ì¢‹ì•„í•œë‹¤", "E", "ì†Œìˆ˜ì˜ ì¹œí•œ ì‚¬ëŒê³¼ ê¹Šê²Œ ì§€ë‚´ëŠ” ê±¸ ì„ í˜¸í•œë‹¤", "I"),
    ("ìƒê°ì€ ë§í•˜ë©´ì„œ ì •ë¦¬ëœë‹¤", "E", "í˜¼ì ìƒê°ì„ ì •ë¦¬í•œ í›„ ë§í•˜ëŠ” í¸ì´ë‹¤", "I"),
    # S vs N
    ("í˜„ì‹¤ì ì´ê³  êµ¬ì²´ì ì¸ ì •ë³´ë¥¼ ì‹ ë¢°í•œë‹¤", "S", "ì¶”ìƒì ì´ê³  ë¯¸ë˜ì§€í–¥ì ì¸ ì•„ì´ë””ì–´ì— ëŒë¦°ë‹¤", "N"),
    ("ê²½í—˜ì„ ì¤‘ì‹œí•˜ê³  ì‚¬ì‹¤ì— ì§‘ì¤‘í•œë‹¤", "S", "ìƒìƒê³¼ ê°€ëŠ¥ì„±ì— ê´€ì‹¬ì´ ë§ë‹¤", "N"),
    ("ì§€ê¸ˆ ëˆˆì•ì— ìˆëŠ” ê²ƒì— ì§‘ì¤‘í•œë‹¤", "S", "í° ê·¸ë¦¼ê³¼ ì „ì²´ íë¦„ì„ ë³¸ë‹¤", "N"),
    ("ë‹¨ê³„ì ì¸ ì„¤ëª…ì„ ì„ í˜¸í•œë‹¤", "S", "ì€ìœ ë‚˜ ê°œë…ì  ì„¤ëª…ì„ ì¢‹ì•„í•œë‹¤", "N"),
    ("ì‹¤ìš©ì ì¸ í•´ê²°ì±…ì„ ì„ í˜¸í•œë‹¤", "S", "ìƒˆë¡­ê³  ì°½ì˜ì ì¸ ì ‘ê·¼ì„ ì‹œë„í•œë‹¤", "N"),
    # T vs F
    ("ë…¼ë¦¬ì ìœ¼ë¡œ ë¬¸ì œë¥¼ ë¶„ì„í•œë‹¤", "T", "ê°ì •ì ìœ¼ë¡œ ê³µê°í•˜ë©° ì ‘ê·¼í•œë‹¤", "F"),
    ("ê²°ì •í•  ë•Œ ê°ê´€ì ì¸ ê¸°ì¤€ì„ ìš°ì„ í•œë‹¤", "T", "ì‚¬ëŒë“¤ì˜ ê°ì •ì„ ê³ ë ¤í•œë‹¤", "F"),
    ("ë¹„íŒì ì¸ í”¼ë“œë°±ì„ ìˆ˜ìš©í•˜ëŠ” í¸ì´ë‹¤", "T", "í”¼ë“œë°±ì„ ê°ì •ì ìœ¼ë¡œ ë°›ì•„ë“¤ì´ëŠ” í¸ì´ë‹¤", "F"),
    ("íš¨ìœ¨ê³¼ ì„±ê³¼ê°€ ì¤‘ìš”í•˜ë‹¤", "T", "ì‚¬ëŒ ì‚¬ì´ì˜ ì¡°í™”ê°€ ì¤‘ìš”í•˜ë‹¤", "F"),
    ("ê°ˆë“±ì´ ìƒê¸°ë©´ ì§ì ‘ì ìœ¼ë¡œ ë§í•œë‹¤", "T", "ìƒëŒ€ ê¸°ë¶„ì„ ê³ ë ¤í•˜ë©° ì¡°ì‹¬ìŠ¤ëŸ½ê²Œ ì ‘ê·¼í•œë‹¤", "F"),
    # J vs P
    ("ì¼ì •ì„ ì„¸ì›Œ ê³„íšëŒ€ë¡œ ì›€ì§ì´ëŠ” ê±¸ ì¢‹ì•„í•œë‹¤", "J", "ìƒí™©ì— ë”°ë¼ ìœ ì—°í•˜ê²Œ ì›€ì§ì´ëŠ” ê±¸ ì„ í˜¸í•œë‹¤", "P"),
    ("í•´ì•¼ í•  ì¼ì„ ë¯¸ë¦¬ ëë‚´ëŠ” í¸ì´ë‹¤", "J", "ë§ˆê° ì§ì „ì— ëª°ì•„ì„œ í•˜ëŠ” í¸ì´ë‹¤", "P"),
    ("ì •ë¦¬ëœ í™˜ê²½ì—ì„œ ì¼í•˜ëŠ” ê±¸ ì„ í˜¸í•œë‹¤", "J", "ì•½ê°„ ì–´ìˆ˜ì„ í•´ë„ ê´œì°®ë‹¤", "P"),
    ("ì„ íƒì„ ë¹ ë¥´ê²Œ ê²°ì •í•˜ê³  ê³ ìˆ˜í•œë‹¤", "J", "ì—¬ëŸ¬ ê°€ëŠ¥ì„±ì„ ì—´ì–´ë‘ê³  ìœ ë™ì ìœ¼ë¡œ ê²°ì •í•œë‹¤", "P"),
    ("ê³„íšì„ ì–´ê¸°ëŠ” ê±¸ ì‹«ì–´í•œë‹¤", "J", "ê³„íšì€ ë³€í•  ìˆ˜ ìˆë‹¤ê³  ìƒê°í•œë‹¤", "P")
]

"""ì¸íŠ¸ë¡œ ì¶œë ¥"""
def intro():
    print("ğŸ¯" * 20)
    print("ğŸ¯ğŸ¯ğŸ¯ğŸ¯ ê°„ì´ MBTI ì¶”ì²œ í€´ì¦ˆ ğŸ¯ğŸ¯ğŸ¯ğŸ¯")
    print("ğŸ¯" * 20)

"""ë©”ë‰´ ì¶œë ¥"""
def show_menu():
    print("\n" + "-" * 10)
    print("[ë©”ë‰´]")
    print("1. MBTI í€´ì¦ˆ ì‹œì‘")
    print("2. ì¢…ë£Œ")
    print("-" * 10)
    return input("\në©”ë‰´ ì„ íƒ (1/2) : ").strip()

"""ì§ˆë¬¸ì§€ í¬ë§·"""
def ask_question(question, option_a, option_b, type_a, type_b):
    print("\n" + "-" * 10)
    print(f"{question}")
    print(f"  A. {option_a} ({type_a})")
    print(f"  B. {option_b} ({type_b})")
    print("-" * 10)
    while True:
        answer = input("ì„ íƒ (A/B) : ").strip().upper()
        if answer == 'A':
            return type_a
        elif answer == 'B':
            return type_b
        else:
            print("â— A ë˜ëŠ” Bë§Œ ì…ë ¥í•´ì£¼ì„¸ìš”.")

"""ì§ˆë¬¸"""
def run_quiz():
    # ì ìˆ˜ ì´ˆê¸°í™”
    scores = {'E': 0, 'I': 0, 'S': 0, 'N': 0, 'T': 0, 'F': 0, 'J': 0, 'P': 0}

    # ì§ˆë¬¸ ë¦¬ìŠ¤íŠ¸ ì„ê¸° (ì›ë³¸ì„ í•´ì¹˜ì§€ ì•Šê¸° ìœ„í•´ ë³µì‚¬ í›„ ì„ê¸°)
    randomized_questions = questions.copy()
    random.shuffle(randomized_questions)

    # ëª¨ë“  ì§ˆë¬¸ ìˆœíšŒ
    for idx, (option_a, type_a, option_b, type_b) in enumerate(randomized_questions, start=1):
        print(f"\nì§ˆë¬¸ {idx}")
        print("-" * 30)
        print(f"A. {option_a} ({type_a})")
        print(f"B. {option_b} ({type_b})")
        print("-" * 30)
        while True:
            answer = input("ì„ íƒ (A/B) : ").strip().upper()
            if answer == 'A':
                scores[type_a] += 1
                break
            elif answer == 'B':
                scores[type_b] += 1
                break
            else:
                print("â— A ë˜ëŠ” Bë§Œ ì…ë ¥í•´ì£¼ì„¸ìš”.")

    # ê° ì¶•ë³„ ê²°ê³¼ ê³„ì‚°
    ei = 'E' if scores['E'] >= scores['I'] else 'I'
    sn = 'S' if scores['S'] >= scores['N'] else 'N'
    tf = 'T' if scores['T'] >= scores['F'] else 'F'
    jp = 'J' if scores['J'] >= scores['P'] else 'P'

    # MBTI ì¡°í•©
    mbti = ei + sn + tf + jp

    # ê° ì¶•ë³„ ë¹„ìœ¨ ê³„ì‚°
    def get_ratio(a, b):
        total = scores[a] + scores[b]
        if total == 0:
            return (0, 0)
        return (round(scores[a] / total * 100), round(scores[b] / total * 100))

    e_ratio, i_ratio = get_ratio('E', 'I')
    s_ratio, n_ratio = get_ratio('S', 'N')
    t_ratio, f_ratio = get_ratio('T', 'F')
    j_ratio, p_ratio = get_ratio('J', 'P')

    print("\n" + "ğŸ§ " * 24)
    print(f"ğŸ§ ğŸ§ ğŸ§ ğŸ§  ë‹¹ì‹ ì˜ MBTI ì¶”ì²œ ìœ í˜•ì€ ğŸ’¡ {mbti} ì…ë‹ˆë‹¤! ğŸ§ ğŸ§ ğŸ§ ğŸ§ ")
    print("ğŸ§ " * 24)

    # ë¹„ìœ¨ ì¶œë ¥
    print("\n" + "ğŸ“Š" * 24)
    print(f"[E/I] ì™¸í–¥(E): {e_ratio}%  /  ë‚´í–¥(I): {i_ratio}%")
    print(f"[S/N] ê°ê°(S): {s_ratio}%  /  ì§ê´€(N): {n_ratio}%")
    print(f"[T/F] ì‚¬ê³ (T): {t_ratio}%  /  ê°ì •(F): {f_ratio}%")
    print(f"[J/P] ê³„íš(J): {j_ratio}%  /  ì¸ì‹(P): {p_ratio}%")
    print("ğŸ“Š" * 24)

"""MBIT_Quiz"""
def mbti_quiz():
    intro()
    while True:
        choice = show_menu()
        if choice == '1':
            run_quiz()
            break
        elif choice == '2':
            print("í€´ì¦ˆë¥¼ ì¢…ë£Œí•©ë‹ˆë‹¤.ğŸ‘‹")
            break
        else:
            print("â— ìœ íš¨í•œ ë©”ë‰´ ë²ˆí˜¸ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.")

mbti_quiz()